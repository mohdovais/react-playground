{"version":3,"file":"app.umd.js","sources":["../packages/utils/react.ts","../packages/combobox/listbox.tsx","../packages/utils/array.ts","../packages/utils/object.ts","../packages/utils/dom.ts","../packages/combobox/use-position.ts","../packages/combobox/combobox.store.ts","../packages/combobox/combobox.tsx","../packages/hook/use-random-id.ts","../packages/combobox/use-actions.ts","../src/Application.tsx","../src/main.tsx"],"sourcesContent":["import * as React from 'react';\n\nexport default React;\nexport const memo = React.memo;\nexport const useCallback = React.useCallback;\nexport const useState = React.useState;\nexport const useRef = React.useRef;\nexport const useReducer = React.useReducer;\nexport const useEffect = React.useEffect;\n","import React, { memo, useEffect } from '../utils/react';\nimport { ensureArray } from '../utils/array';\nimport { hasOwnProperty } from '../utils/object';\nimport { Json } from './combobox.store';\nimport {\n    listbox as $listbox,\n    option as $option,\n    focus as $focus,\n    selected as $selected,\n} from './listbox.module.css';\n\nexport interface ListBoxProps<T> {\n    className?: string;\n    id: string;\n    data?: T[];\n    displayField: string;\n    selected?: T;\n    onSelect: (selection: T) => void;\n    focusIndex: number;\n    expanded: boolean;\n    style: React.CSSProperties;\n    optionRenderer?: (record: T) => JSX.Element | string;\n}\n\nfunction ListBox(props: ListBoxProps<Json>) {\n    const {\n        id,\n        className = '',\n        data,\n        displayField,\n        selected,\n        focusIndex,\n        expanded,\n        style,\n        onSelect,\n        optionRenderer,\n    } = props;\n\n    const idPrefx = id + '-option-';\n\n    useEffect(() => {\n        if (focusIndex > -1) {\n            const li = document.getElementById(idPrefx + focusIndex);\n            if (li) {\n                li.scrollIntoView({ behavior: 'smooth', block: 'nearest' });\n            }\n        }\n    }, [focusIndex]);\n\n    return (\n        <ul\n            id={id}\n            role=\"listbox\"\n            className={$listbox + ' ' + className}\n            style={style}>\n            {expanded\n                ? ensureArray<Json>(data).map((item, index) => (\n                      <li\n                          key={idPrefx + index}\n                          role=\"option\"\n                          id={idPrefx + index}\n                          className={\n                              $option +\n                              (focusIndex === index ? ' ' + $focus : '') +\n                              (selected === item ? ' ' + $selected : '')\n                          }\n                          onClick={() => onSelect(item)}>\n                          {typeof optionRenderer === 'function'\n                              ? optionRenderer(item)\n                              : hasOwnProperty(item, displayField)\n                              ? String(item[displayField])\n                              : null}\n                      </li>\n                  ))\n                : null}\n        </ul>\n    );\n}\n\nexport default memo(ListBox);\n","export function ensureArray<T = undefined>(subject?: T | T[] | null) {\n    if (subject == null) return [];\n    if (Array.isArray(subject)) return subject;\n    return [subject];\n}","export function hasOwnProperty(object: any, property: string): boolean {\n    return Object.prototype.hasOwnProperty.call(object, property);\n}","export const win = window;\nexport const addEventListener = win.addEventListener;\nexport const removeEventListener = win.removeEventListener;","import React, { useState, useEffect } from '../utils/react';\nimport { win, addEventListener, removeEventListener } from '../utils/dom';\n\nconst displayNone = {\n    display: 'none',\n};\n\nfunction getPosition(el: HTMLDivElement | null): React.CSSProperties {\n    if (el == null) {\n        return displayNone;\n    }\n    const viewportHeight = win.innerHeight;\n    const { top, bottom, height } = el.getBoundingClientRect();\n\n    if (top < 0 || top > viewportHeight) {\n        return displayNone;\n    }\n\n    const bottomSpace = viewportHeight - bottom;\n\n    if (top < bottomSpace) {\n        return {\n            top: height,\n            maxHeight: viewportHeight - bottom - 5,\n        };\n    }\n\n    return {\n        bottom: height,\n        maxHeight: top - 5,\n    };\n}\n\nexport function usePickerPosition(\n    ref: React.RefObject<HTMLDivElement>,\n    calculate: boolean\n) {\n    const current = ref.current;\n    const [postion, setPosition] = useState(() => getPosition(current));\n\n    useEffect(() => {\n        let busy = false;\n        function doCalculate() {\n            if (calculate && !busy) {\n                busy = true;\n                win.requestAnimationFrame(() => {\n                    setPosition(getPosition(current));\n                    busy = false;\n                });\n            }\n        }\n        addEventListener('resize', doCalculate);\n        addEventListener('scroll', doCalculate);\n\n        if (calculate) {\n            doCalculate();\n        } else {\n            setPosition(displayNone);\n        }\n\n        return () => {\n            removeEventListener('resize', doCalculate);\n            removeEventListener('scroll', doCalculate);\n        };\n    }, [calculate, current]);\n\n    return postion;\n}\n","const assign = Object.assign;\n\nexport const ACTION_TYPE_COLLAPSE = 0;\nexport const ACTION_TYPE_EXPAND = 1;\nexport const ACTION_TYPE_TOGGLE = 2;\nexport const ACTION_TYPE_KEY_ARROW_DOWN = 3;\nexport const ACTION_TYPE_KEY_ARROW_UP = 4;\nexport const ACTION_TYPE_KEY_ENTER = 5;\nexport const ACTION_TYPE_SELECT = 6;\nexport const ACTION_TYPE_SET_DATA = 7;\nexport const ACTION_TYPE_SEARCH = 8;\n\n// not actual definition of JSON (null and Array not used)\nexport type Json = { [prop: string]: string | number | boolean | Date };\n\nexport interface ComboboxState<T> {\n    displayField: string;\n    expanded: boolean;\n    focusIndex: number;\n    selection?: T;\n    data: T[];\n    range: T[];\n}\n\nexport interface ComboboxActionCollpase {\n    type: typeof ACTION_TYPE_COLLAPSE;\n}\n\nexport interface ComboboxActionExpand {\n    type: typeof ACTION_TYPE_EXPAND;\n}\n\nexport interface ComboboxActionToggle {\n    type: typeof ACTION_TYPE_TOGGLE;\n}\n\nexport interface CompobobxActionArrowDown {\n    type: typeof ACTION_TYPE_KEY_ARROW_DOWN;\n}\n\nexport interface ComboboxActionArrowUp {\n    type: typeof ACTION_TYPE_KEY_ARROW_UP;\n}\n\nexport interface ComboboxActionEnter {\n    type: typeof ACTION_TYPE_KEY_ENTER;\n}\n\nexport interface ComboboxActionSelect<T> {\n    type: typeof ACTION_TYPE_SELECT;\n    selection: T;\n}\n\nexport interface ComboboxActionSetData<T> {\n    type: typeof ACTION_TYPE_SET_DATA;\n    data: T[];\n}\n\nexport interface ComboboxActionSearch {\n    type: typeof ACTION_TYPE_SEARCH;\n    query: string;\n}\n\nexport type ComboboxAction<T> =\n    | ComboboxActionCollpase\n    | ComboboxActionExpand\n    | ComboboxActionToggle\n    | CompobobxActionArrowDown\n    | ComboboxActionArrowUp\n    | ComboboxActionEnter\n    | ComboboxActionSelect<T>\n    | ComboboxActionSetData<T>\n    | ComboboxActionSearch;\n\nexport const initialState = {\n    displayField: '',\n    expanded: false,\n    focusIndex: -1,\n    selection: undefined,\n    data: [],\n    range: [],\n};\n\nexport function comboboxReducer(\n    state: ComboboxState<Json>,\n    action: ComboboxAction<Json>\n) {\n    switch (action.type) {\n        case ACTION_TYPE_COLLAPSE:\n            return assign({}, state, {\n                expanded: false,\n                focusIndex: -1,\n            });\n\n        case ACTION_TYPE_EXPAND:\n            return assign({}, state, {\n                expanded: true,\n            });\n\n        case ACTION_TYPE_TOGGLE:\n            return assign({}, state, {\n                expanded: !state.expanded,\n            });\n\n        case ACTION_TYPE_KEY_ARROW_DOWN: {\n            let count = state.range.length;\n            return assign({}, state, {\n                expanded: true,\n                focusIndex: count === 0 ? -1 : (state.focusIndex + 1) % count,\n            });\n        }\n\n        case ACTION_TYPE_KEY_ARROW_UP: {\n            let count = state.range.length;\n            let index = state.focusIndex === -1 ? count : state.focusIndex;\n            return assign({}, state, {\n                expanded: true,\n                focusIndex: count === 0 ? -1 : (count + index - 1) % count,\n            });\n        }\n\n        case ACTION_TYPE_KEY_ENTER:\n            if (state.focusIndex !== -1) {\n                return assign({}, state, {\n                    expanded: false,\n                    focusIndex: -1,\n                    selection: state.range[state.focusIndex],\n                });\n            }\n            break;\n\n        case ACTION_TYPE_SELECT:\n            return assign({}, state, {\n                expanded: false,\n                focusIndex: -1,\n                selection: action.selection,\n            });\n\n        case ACTION_TYPE_SET_DATA: {\n            let data = action.data;\n            return assign({}, state, {\n                data,\n                range: data,\n            });\n        }\n\n        case ACTION_TYPE_SEARCH: {\n            const search = new RegExp(action.query, 'i');\n            return assign({}, state, {\n                expanded: true,\n                range: state.data.filter((record) =>\n                    search.test(record[state.displayField].toString())\n                ),\n            });\n        }\n    }\n\n    return state;\n}\n","import React, {\n    useCallback,\n    useRef,\n    useReducer,\n    useEffect,\n} from '../utils/react';\nimport ListBox from './listbox';\nimport { useRandomId } from '../hook/use-random-id';\nimport { usePickerPosition } from './use-position';\nimport { comboboxReducer, initialState, Json } from './combobox.store';\nimport { useComboboxActions } from './use-actions';\nimport {\n    combobox as $combobox,\n    input_wrapper as $input_wrapper,\n    input as $input,\n    trigger as $trigger,\n    picker as $picker,\n} from './combobox.module.scss';\n\nexport interface ComboboxProps<T> {\n    displayField?: string;\n    valueField?: string;\n    queryMode?: 'remote' | 'local';\n    data: T[];\n    onChange?: (selection?: T) => void;\n    optionRenderer?: (record: T) => JSX.Element | string;\n    displayRenderer?: (record: T) => JSX.Element | string;\n    query?: (search: string) => T[];\n}\n\nexport function Combobox(props: ComboboxProps<Json>) {\n    const {\n        data,\n        displayField = 'text',\n        onChange,\n        optionRenderer,\n        displayRenderer,\n    } = props;\n    const comboboxRef = useRef<HTMLDivElement>(null);\n    const inputRef = useRef<HTMLInputElement>(null);\n    const id = useRandomId('combobox-');\n    const [state, dispatch] = useReducer(\n        comboboxReducer,\n        initialState,\n        (state) => Object.assign({}, state, { displayField })\n    );\n    const {\n        toggle,\n        select,\n        handleKeys,\n        handleInput,\n        setData,\n    } = useComboboxActions(dispatch);\n    const { expanded, selection, range, focusIndex } = state;\n    const pickerStyle = usePickerPosition(comboboxRef, expanded);\n    const pickerId = id + '-picker';\n    const activeDescendantId =\n        expanded && focusIndex === -1\n            ? ''\n            : pickerId + '-option-' + focusIndex;\n\n    const handleTriggerClick = useCallback(\n        function () {\n            let el = inputRef.current;\n            if (el) {\n                el.focus();\n            }\n            toggle();\n        },\n        [inputRef]\n    );\n\n    useEffect(() => {\n        setData(data);\n    }, [data]);\n\n    useEffect(() => {\n        const input = inputRef.current;\n        if (input) {\n            input.value = selection\n                ? typeof displayRenderer === 'function'\n                    ? displayRenderer(selection).toString()\n                    : selection[displayField].toString()\n                : '';\n        }\n    }, [selection, displayField, inputRef, displayRenderer]);\n\n    useEffect(() => {\n        if (typeof onChange === 'function') {\n            onChange(selection);\n        }\n    }, [selection, onChange]);\n\n    return (\n        <div className={$combobox} ref={comboboxRef}>\n            <div\n                className={$input_wrapper}\n                role=\"combobox\"\n                aria-expanded={expanded ? 'true' : 'false'}\n                aria-owns={pickerId}\n                aria-haspopup=\"listbox\">\n                <input\n                    type=\"text\"\n                    aria-autocomplete=\"both\"\n                    aria-controls={pickerId}\n                    aria-activedescendant={activeDescendantId}\n                    onKeyDown={handleKeys}\n                    onInput={handleInput}\n                    className={$input}\n                    ref={inputRef}\n                />\n                <div\n                    className={$trigger}\n                    tabIndex={-1}\n                    role=\"button\"\n                    aria-label=\"Show options\"\n                    onClick={handleTriggerClick}>\n                    â–¼\n                </div>\n            </div>\n            <ListBox\n                id={pickerId}\n                data={range}\n                displayField={displayField}\n                focusIndex={focusIndex}\n                expanded={expanded}\n                onSelect={select}\n                selected={selection}\n                optionRenderer={optionRenderer}\n                className={$picker}\n                style={pickerStyle}\n            />\n        </div>\n    );\n}\n","import { useState } from \"../utils/react\";\n\nexport function useRandomId(prefix = \"\") {\n    const id = useState(() => prefix + Math.round(Math.random() + Math.random() * 10e16).toString(32));\n    return id[0];\n}","import { useCallback } from '../utils/react';\nimport {\n    ACTION_TYPE_COLLAPSE,\n    ACTION_TYPE_EXPAND,\n    ACTION_TYPE_KEY_ARROW_DOWN,\n    ACTION_TYPE_KEY_ARROW_UP,\n    ACTION_TYPE_KEY_ENTER,\n    ACTION_TYPE_SEARCH,\n    ACTION_TYPE_SELECT,\n    ACTION_TYPE_SET_DATA,\n    ACTION_TYPE_TOGGLE,\n    ComboboxAction,\n} from './combobox.store';\n\nexport function useComboboxActions<Json>(\n    dispatch: React.Dispatch<ComboboxAction<Json>>\n) {\n    const expand = useCallback(\n        function () {\n            dispatch({ type: ACTION_TYPE_EXPAND });\n        },\n        [dispatch]\n    );\n\n    const collapse = useCallback(\n        function () {\n            dispatch({ type: ACTION_TYPE_COLLAPSE });\n        },\n        [dispatch]\n    );\n\n    const toggle = useCallback(\n        function () {\n            dispatch({ type: ACTION_TYPE_TOGGLE });\n        },\n        [dispatch]\n    );\n\n    const select = useCallback(\n        function (selection: Json) {\n            dispatch({\n                type: ACTION_TYPE_SELECT,\n                selection,\n            });\n        },\n        [dispatch]\n    );\n\n    const handleKeys = useCallback(\n        function (event: React.KeyboardEvent<HTMLInputElement>) {\n            switch (event.key) {\n                case 'ArrowDown': {\n                    dispatch({ type: ACTION_TYPE_KEY_ARROW_DOWN });\n                    break;\n                }\n                case 'ArrowUp': {\n                    dispatch({ type: ACTION_TYPE_KEY_ARROW_UP });\n                    break;\n                }\n                case 'Escape':\n                    collapse();\n                    break;\n                case 'Enter':\n                    dispatch({ type: ACTION_TYPE_KEY_ENTER });\n                    break;\n            }\n        },\n        [dispatch]\n    );\n\n    const handleInput = useCallback(\n        function (event: React.FormEvent<HTMLInputElement>) {\n            const inputEl = event.target as HTMLInputElement;\n            dispatch({\n                type: ACTION_TYPE_SEARCH,\n                query: inputEl.value,\n            });\n        },\n        [dispatch]\n    );\n\n    const setData = useCallback(\n        function (data: Json[]) {\n            dispatch({ type: ACTION_TYPE_SET_DATA, data });\n        },\n        [dispatch]\n    );\n\n    return {\n        expand,\n        collapse,\n        toggle,\n        select,\n        handleKeys,\n        handleInput,\n        setData,\n    };\n}\n","import * as React from 'react';\nimport { useState, useEffect } from '../packages/utils/react';\nimport Combobox from '../packages/combobox';\n\ninterface Language {\n    code: string;\n    name: string;\n}\n\ninterface Currency {\n    code: string;\n    name: string;\n    symbol: string;\n}\n\ninterface Country {\n    name: string;\n    code: string;\n    capital: string;\n    region: string;\n    currency: Currency;\n    language: Language;\n    flag: string;\n}\n\nexport function Application() {\n    const [countries, setCountries] = useState<Country[]>([]);\n\n    useEffect(() => {\n        fetch('/data/countries.json')\n            .then((response) => response.json())\n            .then(setCountries);\n    }, []);\n    return <Combobox data={countries} displayField=\"name\" />;\n}\n","import * as ReactDOM from 'react-dom';\nimport React from 'react';\nimport { Application } from './Application';\n\nfunction render(container: HTMLDivElement) {\n    ReactDOM.render(<Application />, container);\n}\n\nfunction unmount(container: HTMLDivElement) {\n    ReactDOM.unmountComponentAtNode(container);\n}\n\nexport default {\n    render,\n    unmount,\n};\n"],"names":["memo","React.memo","useCallback","React.useCallback","useState","React.useState","useRef","React.useRef","useReducer","React.useReducer","useEffect","React.useEffect","props","id","className","data","displayField","selected","focusIndex","expanded","style","onSelect","optionRenderer","idPrefx","li","document","getElementById","scrollIntoView","behavior","block","role","$listbox","subject","Array","isArray","map","item","index","key","onClick","object","property","Object","prototype","hasOwnProperty","call","String","win","window","addEventListener","removeEventListener","displayNone","display","el","viewportHeight","innerHeight","top","bottom","height","getBoundingClientRect","maxHeight","assign","initialState","selection","range","state","action","type","count","length","search","RegExp","query","filter","record","test","toString","onChange","displayRenderer","comboboxRef","inputRef","prefix","Math","round","random","useRandomId","dispatch","comboboxReducer","state2","toggle","select","handleKeys","handleInput","setData","expand","collapse","event","inputEl","target","value","useComboboxActions","pickerStyle","ref","calculate","current","postion","setPosition","getPosition","busy","requestAnimationFrame","doCalculate","usePickerPosition","pickerId","activeDescendantId","handleTriggerClick","focus","input","aria-expanded","aria-owns","aria-haspopup","aria-autocomplete","aria-controls","aria-activedescendant","onKeyDown","onInput","tabIndex","aria-label","ListBox","countries","setCountries","then","response","json","Combobox","render","container","Application2","unmount"],"mappings":"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"}